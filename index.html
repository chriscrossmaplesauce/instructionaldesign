Final




<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lesson Planner - Gagn√©'s Nine Events</title>
<style>
body { font-family: Arial, sans-serif; background: #f9fafb; margin: 0; padding: 20px; color: #374151; }
.container { max-width: 1000px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
h1,h2,h3,h4{margin-top:0;}
.card { border: 2px solid #ddd; border-radius: 8px; padding: 12px; margin: 8px 0; cursor: pointer; transition: transform 0.2s; }
.card:hover { transform: scale(1.02); box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
textarea { width: 100%; min-height: 60px; border-radius: 6px; border: 1px solid #ccc; padding: 6px; margin: 4px 0; }
input[type=text] { border-radius: 6px; border: 1px solid #ccc; padding: 4px; margin-left: 4px; width: 150px; }
select { padding: 6px; border-radius: 6px; margin: 0 6px 12px 0; }
.button { background: #4f46e5; color: white; padding: 10px 16px; border: none; border-radius: 8px; cursor: pointer; margin: 4px 0; }
.button:hover { background: #4338ca; }
.lesson-event { border: 1px solid #ddd; padding: 10px; margin: 8px 0; border-radius: 6px; background: #f3f4f6; }
.event-controls { display: flex; flex-wrap: wrap; gap: 8px; margin-top:4px; align-items:flex-start; }
#filters { display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 12px; }
.hidden { display: none; }
.suggestions ul { padding-left: 20px; margin: 4px 0; }
.suggestions li { cursor: pointer; color: #4f46e5; margin-bottom: 2px; }
.suggestions li:hover { text-decoration: underline; }
@media (max-width:600px){ #filters{flex-direction:column;} }
.objectives, .content { margin-bottom:12px; padding:10px; border-radius:6px; }
.objectives { background:#eef2ff; }
.content { background:#f0fdf4; }
</style>
</head>
<body>
<div class="container">
<h1>üìö Lesson Planner - Gagn√©'s Nine Events</h1>
<div id="filters"></div>
<button id="surprise-btn" class="button">üé≤ Surprise Me!</button>
<div id="topic-selector"></div>
<div id="lesson-planner" class="hidden"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
<script>
// --------------------- Topics ---------------------
const topics = [
  { 
    name: "Life Cycles of Butterflies", 
    subject: "Science", 
    color: "#3B82F6", 
    objectives: [
      "Identify and describe all four stages of a butterfly life cycle",
      "Sequence the stages in correct order: egg, caterpillar, pupa, adult butterfly",
      "Understand key terms: egg, caterpillar, pupa, chrysalis, butterfly, metamorphosis"
    ], 
    content: [
      "Egg: Laid on leaves",
      "Caterpillar / Larva: Hatches from egg, eats leaves, grows",
      "Pupa / Chrysalis: Protective casing, undergoes metamorphosis",
      "Adult Butterfly: Emerges with wings, ready to fly",
      "Explain the concept of metamorphosis and physical changes at each stage"
    ],
    suggestions: {
      1: ["Show a time-lapse video", "Ask students what they noticed about butterflies", "Start with a story about a caterpillar"],
      2: ["Display objectives on the board", "Have students repeat objectives aloud", "Discuss why learning the life cycle is important"],
      3: ["Recall other insects they know", "Discuss caterpillar stages", "Use a short quiz on insects"],
      4: ["Present images of each stage", "Explain key terms like chrysalis", "Use flashcards for stages"],
      5: ["Demonstrate with model/toy", "Sequence stages with cards", "Use interactive board activity"],
      6: ["Draw the life cycle", "Label each stage", "Peer review drawings"],
      7: ["Provide immediate feedback", "Correct misconceptions", "Short group discussion"],
      8: ["Quiz students", "Explain process to partner", "Use quiz apps like Kahoot"],
      9: ["Worksheet for home review", "Observe caterpillars outside", "Mini project on butterflies"]
    }
  },
  { 
    name: "Plant Parts", 
    subject: "Science", 
    color: "#84CC16", 
    objectives: [
      "Name the main parts of a plant: roots, stem, leaves, flowers",
      "Explain the function/job of each part",
      "Identify plant parts on real plants or images"
    ],
    content: [
      "Roots: Absorb water and nutrients from soil",
      "Stem: Supports plant and transports nutrients",
      "Leaves: Make food via photosynthesis",
      "Flowers: Produce seeds for reproduction",
      "Explain how all parts work together for plant survival"
    ],
    suggestions: {
      1: ["Show a short plant-growing video", "Ask students what plants need", "Use real plants to show parts"],
      2: ["Display lesson objectives", "Read them aloud", "Discuss importance of plant parts"],
      3: ["Recall parts students know", "Discuss favorite plants", "Draw a plant on the board together"],
      4: ["Show labeled images", "Explain each part", "Interactive labeling game"],
      5: ["Show real plant parts", "Guide students to touch/observe", "Hands-on activity with soil/seeds"],
      6: ["Label parts on worksheet", "Draw/color a plant", "Peer check work"],
      7: ["Feedback on labeling", "Correct misconceptions", "Quick Q&A"],
      8: ["Ask questions: What makes food? What absorbs water?", "Mini quiz", "Group presentation"],
      9: ["Observe plant at home", "Note changes", "Reflection writing"]
    }
  },
  { 
    name: "Healthy Foods", 
    subject: "Health", 
    color: "#16A34A", 
    objectives: [
      "Sort foods into healthy and less healthy categories",
      "Identify foods from different food groups",
      "Explain why healthy foods help our bodies grow strong"
    ],
    content: [
      "Food Groups: Fruits, Vegetables, Proteins, Grains, Dairy",
      "Provide examples and benefits of each group",
      "Explain nutrients provided by each group and their importance",
      "Highlight balanced diet and healthy eating habits"
    ],
    suggestions: {
      1: ["Show pictures of healthy/unhealthy foods", "Ask what students ate for breakfast", "Discuss favorite foods"],
      2: ["Display objectives", "Read them aloud", "Explain balanced diet importance"],
      3: ["Recall favorite foods", "Discuss which are healthy", "Use flashcards for food groups"],
      4: ["Present 5 food groups with examples", "Explain importance", "Interactive sorting activity"],
      5: ["Demonstrate sorting foods", "Guide students to make charts", "Peer check charts"],
      6: ["Classify pictures", "Create healthy meal plan", "Group discussion on choices"],
      7: ["Feedback on sorting", "Correct misconceptions", "Quick quiz on groups"],
      8: ["Quiz students", "Explain why foods help bodies", "Class presentation of meal plan"],
      9: ["Send home food diary", "Track healthy foods for a week", "Reflection journaling"]
    }
  }
];

// --------------------- Gagn√© Events ---------------------
const nineEvents = [
  { id:1, title:"Gaining Attention" },
  { id:2, title:"Informing Learners of Objectives" },
  { id:3, title:"Stimulating Recall" },
  { id:4, title:"Presenting Content" },
  { id:5, title:"Providing Learning Guidance" },
  { id:6, title:"Eliciting Performance" },
  { id:7, title:"Providing Feedback" },
  { id:8, title:"Assessing Performance" },
  { id:9, title:"Enhancing Retention" }
];

let selectedTopic = null;

// --------------------- Subject Filter ---------------------
const filterDiv = document.getElementById("filters");
const subjects = [...new Set(topics.map(t=>t.subject))];
const subjectSelect = document.createElement("select");
subjectSelect.innerHTML = `<option value="all">All Subjects</option>` + subjects.map(s=>`<option value="${s}">${s}</option>`).join('');
filterDiv.appendChild(subjectSelect);
subjectSelect.addEventListener("change", renderTopics);

// --------------------- Render Topics ---------------------
function renderTopics() {
  const container = document.getElementById("topic-selector");
  container.classList.remove("hidden");
  document.getElementById("lesson-planner").classList.add("hidden");
  container.innerHTML = "";
  const subject = subjectSelect.value;
  const filtered = topics.filter(t=>subject==="all"||t.subject===subject);
  filtered.forEach(topic=>{
    const div = document.createElement("div");
    div.className = "card";
    div.style.borderColor = topic.color;
    div.innerHTML = `<h3>${topic.name}</h3><p>${topic.subject}</p><p><strong>Objective:</strong> ${topic.objectives[0]}</p>`;
    div.addEventListener("click",()=>{selectedTopic=topic; showPlanner();});
    container.appendChild(div);
  });
}
renderTopics();

// --------------------- Surprise Me ---------------------
document.getElementById("surprise-btn").addEventListener("click",()=>{
  selectedTopic = topics[Math.floor(Math.random()*topics.length)];
  showPlanner();
});

// --------------------- Show Planner ---------------------
function showPlanner() {
  document.getElementById("topic-selector").classList.add("hidden");
  const container = document.getElementById("lesson-planner");
  container.classList.remove("hidden");
  container.innerHTML = `<h2>Lesson Planner: ${selectedTopic.name}</h2>`;

  // Objectives
  container.innerHTML += `<div class="objectives">
    <h3>Lesson Objectives:</h3>
    <ul>${selectedTopic.objectives.map(o=>`<li>${o}</li>`).join('')}</ul>
  </div>`;

  // Key content
  container.innerHTML += `<div class="content">
    <h3>Key Content / Information to Teach:</h3>
    <ul>${selectedTopic.content.map(c=>`<li>${c}</li>`).join('')}</ul>
  </div>`;

  const mediaOptions = [
    {label:"üé• Video"}, {label:"üñºÔ∏è Pictures"}, {label:"üìä Charts"}, {label:"üß∏ Physical Objects"}, 
    {label:"üì± Interactive Whiteboard"}, {label:"üìù Worksheets"}, {label:"üéµ Songs/Audio"}, {label:"üé≠ Role Play/Drama"}
  ];

  nineEvents.forEach(event => {
    const div = document.createElement("div");
    div.className = "lesson-event";
    const suggestions = selectedTopic.suggestions[event.id] || [];

    div.innerHTML = `
      <h4>${event.id}. ${event.title}</h4>
      <div class="event-controls">
        ${mediaOptions.map((m,i)=>`<label style="display:flex;align-items:center;gap:4px;"><input type="checkbox" data-index="${i}">${m.label}</label>`).join('')}
        <label style="display:flex;align-items:center;gap:4px;"><input type="checkbox" class="other-checkbox">Other: <input type="text" class="other-text" placeholder="Your idea here"></label>
      </div>
      <div class="suggestions"><strong>Suggestions:</strong>
        <ul>${suggestions.map(s=>`<li>${s}</li>`).join('')}</ul>
      </div>
      <textarea placeholder="How will you implement this event?"></textarea>
    `;
    container.appendChild(div);

    const textarea = div.querySelector("textarea");
    const checkboxes = div.querySelectorAll('input[type=checkbox]:not(.other-checkbox)');
    const otherCheckbox = div.querySelector(".other-checkbox");
    const otherText = div.querySelector(".other-text");

    // Auto-save
    function saveContent() {
      localStorage.setItem(`lesson_${selectedTopic.name}_${event.id}`, textarea.value);
      const selectedMedia = Array.from(checkboxes).map((cb,i)=> cb.checked?i:null).filter(x=>x!==null);
      if(otherCheckbox.checked && otherText.value.trim()!=="") selectedMedia.push(otherText.value.trim());
      localStorage.setItem(`lesson_${selectedTopic.name}_media_${event.id}`, JSON.stringify(selectedMedia));
    }
    textarea.addEventListener("input", saveContent);
    checkboxes.forEach(cb=>cb.addEventListener("change", saveContent));
    otherCheckbox.addEventListener("change", saveContent);
    otherText.addEventListener("input", saveContent);

    // Load saved
    textarea.value = localStorage.getItem(`lesson_${selectedTopic.name}_${event.id}`) || "";
    const savedMedia = JSON.parse(localStorage.getItem(`lesson_${selectedTopic.name}_media_${event.id}`)) || [];
    checkboxes.forEach((cb,i)=> cb.checked = savedMedia.includes(i));
    if(savedMedia.some(m=>typeof m==="string")) { otherCheckbox.checked = true; otherText.value = savedMedia.find(m=>typeof m==="string"); }

    // Click-to-insert suggestion
    const suggestionItems = div.querySelectorAll(".suggestions li");
    suggestionItems.forEach(li => {
      li.addEventListener("click", () => { textarea.value = li.textContent; saveContent(); });
    });
  });

  // Export PDF
  const exportBtn = document.createElement("button");
  exportBtn.className = "button";
  exportBtn.textContent = "üñ®Ô∏è Export to PDF";
  exportBtn.addEventListener("click", ()=>{
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.setFontSize(16);
    doc.text(`Lesson Planner: ${selectedTopic.name}`, 10, 10);

    const rows = nineEvents.map(event=>{
      const prescription = localStorage.getItem(`lesson_${selectedTopic.name}_${event.id}`) || "";
      const mediaSaved = JSON.parse(localStorage.getItem(`lesson_${selectedTopic.name}_media_${event.id}`)) || [];
      const mediaLabels = mediaSaved.map(m=>typeof m==="string"?m:mediaOptions[m].label.replace(/üé•|üñºÔ∏è|üìä|üß∏|üì±|üìù|üéµ|üé≠/g,'')).join(", ");
      return [event.title, mediaLabels, prescription];
    });

    doc.autoTable({
      startY: 20,
      head:[["Event","Media","Prescription"]],
      body: rows,
      styles:{fontSize:10,cellPadding:3},
      headStyles:{fillColor:[100,149,237], textColor:255},
      theme:'grid',
      columnStyles:{0:{cellWidth:50},1:{cellWidth:50},2:{cellWidth:90}}
    });
    doc.save(`${selectedTopic.name}_LessonPlanner.pdf`);
  });
  container.appendChild(exportBtn);
}
</script>
</div>
</body>
</html>
